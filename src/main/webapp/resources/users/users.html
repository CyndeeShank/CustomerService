<div cg-busy="userList.$promise">
<div class="generic-container">
    <div ng-include="'resources/app/breadcrumbs.html'"></div>
    <div class="panel panel-default">
        <!-- Default panel contents -->
        <div class="panel-heading">
            <span class="lead">Current Users:</span>
			<span class="pull-right">
                <button class="btn-sm btn-info" ng-click="addUser()">Add New User &nbsp;
                    <i class="glyphicon glyphicon-plus"></i>
                </button>
			</span>
        </div>
        <div class="tablecontainer">
            <table class="table table-striped table-hover" datatable="ng" dt-options="dt.options" dt-column-defs="dt.cols">
                <thead>
                <tr>
                    <th>Name</th>
                    <th>Department</th>
                    <th>Login</th>
                    <th>Can Do Refunds?</th>
                    <th>Status</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="user in userList">
                    <td>
                        <a ng-href="#/users/{{user.agentId}}">{{user.firstName}} &nbsp; {{user.lastName}}</a>
                    </td>
                    <td>{{user.dept == null ? 'N/A' : user.dept}}</td>
                    <td>{{user.login}}</td>
                    <td>
                        <input type="checkbox"
                               bootstrap-switch data-size="small"
                               data-label-width="0"
                               data-on-text="Yes"
                               data-off-text="No"
                               ng-change="updateUser(user, 'refund')"
                               ng-model="user.canDoRefunds" checked/>
                    </td>
                    <td>{{user.active == 1 ? 'Active' : 'Inactive'}}</td>
                    <!--
                    <td>
                        <input type="checkbox"
                               bootstrap-switch data-size="small"
                               data-label-width="0"
                               data-on-text="Enabled"
                               data-off-text="Disabled"
                               ng-change="updateUser(user, 'active')"
                               ng-model="user.active" checked/>
                    </td>
                    <td ng-if="user.sysadmin">
                    <td ng-if="!user.sysadmin">
                        {{user.canDoRefunds == false ? 'No' : 'Yes'}}
                    </td>
                    -->
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
</div>

